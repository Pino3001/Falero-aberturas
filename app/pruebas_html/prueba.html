<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset=" UTF-8" />
<style>
  body {
    font-family: 'Arial', sans-serif;
    padding: 0;
    margin: 0;
    color: #333;
    padding-left: 20px;
    padding-right: 20px;
    line-height: 1.4;
  }

  .header {
    background-color: #106c6c;
    color: white;
    padding: 20px;
    border-radius: 8px 8px 0 0;
    position: relative;
    overflow: visible;
  }

  .header h1 {
    text-align: center;
    margin: 0;
    font-size: 28px;
    padding-bottom: 10px;
  }

  .header-content {
    display: flex;
    justify-content: flex-end;
    position: relative;
  }

  .header-logo {
    position: absolute;
    left: 20px;
    top: 50%;
    transform: translateY(-50%);
    width: 180px;
    z-index: 2;
  }

  .header-titles {
    text-align: right;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 5px;
  }

  .header-titles h3 {
    margin: 0;
    font-size: 18px;
    font-weight: 600;
  }

  .header-titles p {
    margin: 0;
    font-size: 14px;
  }

  .divider {
    background-color: #94c0bb;
    height: 30px;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    margin: 0;
    margin-top: 30px;
  }

  th {
    background-color: #117a7a;
    color: white;
    padding: 12px 8px;
    text-align: center;
    font-weight: 600;
  }

  td {
    padding: 10px 8px;
    border: 1px solid #ddd;
    text-align: left;
  }

  tr:nth-child(even) {
    background-color: #f2f2f2;
  }

  .total-section {
    text-align: right;
    margin: 25px 30px 15px 0;
  }

  .total-label {
    display: inline-block;
    margin: 0 10px;
    font-size: 18px;
    font-weight: bold;
    color: #117a7a;
  }

  .total-amount {
    display: inline-block;
    margin: 0;
    font-size: 18px;
    color: #d32f2f;
    font-weight: bold;
  }

  .footer {
    background-color: #117a7a;
    margin-top: auto;
    color: white;
    border-radius: 0 0 8px 8px;
  }

  .footer-content {
    display: flex;
    justify-content: space-between;
  }

  .footer-section {
    flex: 1;
    padding: 0 10px;
    font-size: 15;
  }

  .footer-title {
    font-size: 16px;
    font-weight: bold;
    display: block;
    margin-bottom: 12px;
    color: #fff;
  }

  .payment-logos {
    display: flex;
    align-items: center;
    gap: 10px;
    margin: 10px 0;
    margin-left: 20px;
  }

  .payment-logo {
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .mp-logo-container {
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #ffff00;
    border-radius: 8px;
    padding: 5px;
    margin-left: 10px;
  }

  .mp-logo {
    width: 50px;
    height: 50px;
    object-fit: contain;
  }

  .br-logo {
    width: 60px;
    height: 60px;
    object-fit: contain;
  }

  .social-icons {
    display: flex;
    margin-top: 10px;
  }

  .social-icon {
    width: 40px;
    height: 40px;
    margin-right: 10px;
  }

  .align-right {
    text-align: right;
  }
</style>
</head>

<body>
  <div style="display: flex; flex-direction: column; height: 100vh;">
  <div class="header">
    <h1>Presupuesto</h1>
    <div class="header-content">
      <img class="header-logo" src="./ffalero.png" alt="Logo FFalero">
      <div class="header-titles">
        <h3>${presupuesto.nombre_cliente || ''}</h3>
        <p>${presupuesto.fecha.toLocaleDateString()}</p>
      </div>
    </div>
  </div>
  <div class="divider"></div>

  <table>
    <thead>
      <tr>
        <th>Descripción</th>
        <th>Cant.</th>
        <th>Precio</th>
      </tr>
    </thead>
    <tbody>
      ${presupuesto.ventanas.map(ventana =>
      `<tr>
        <td>${abreviarCortina(ventana.id_cortina || 0, cortinas)} ${ventana.ancho} X ${ventana.alto} ${colors.find(c
          =>
          c.id === ventana.id_color_aluminio)?.color || ''}</td>
        <td style="text-align: center;">${ventana.cantidad}</td>
        <td>U$S 850</td>
      </tr>`
      ).join('')}
    </tbody>
  </table>

  <div class="total-section">
    <span class="total-label">TOTAL A PAGAR:</span>
    <span class="total-amount">U$S ${presupuesto.precio_total.toFixed(2)}</span>
  </div>

  <div class="divider"></div>

  <div class="footer">
    <div class="footer-content">
      <!-- Columna 1: Información de pago -->
      <div class="footer-section">
        <span class="footer-title">INFORMACIÓN DE PAGO:</span>
        <div class="payment-logos">
          <div class="payment-logo">
            <img class="br-logo" src="./BrEPUBLICA.png" alt="Banco República">
          </div>
          <div class="mp-logo-container">
            <img class="mp-logo" src="./MP_RGB_HANDSHAKE_color-azul_vert.png" alt="Mercado Pago">
          </div>
        </div>
        <div>Nombre de cuenta: Federico Falero</div>
      </div>

      <!-- Columna 2: Contacto -->
      <div class="footer-section">
        <span class="footer-title">CONTACTO:</span>
        <div>WhatsApp: 099080052</div>
        <div>eMail: Fedefalero20@gmail.com</div>
        <div class="social-icons">
          <img class="social-icon" src="./icons8-instagram-200.png" alt="Instagram">
          <img class="social-icon" src="./icons8-facebook-nuevo-200.png" alt="Facebook">
        </div>
      </div>

      <!-- Columna 3: Dirección -->
      <div class="footer-section align-right">
        <span class="footer-title">DIRECCIÓN:</span>
        <div>RUTA 11 KM 145, EL TALITA</div>
        <div>SAN JACINTO - CANELONES</div>
      </div>
    </div>
  </div>
  </div>
</body>

</html>